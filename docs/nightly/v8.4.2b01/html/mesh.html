
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Mesh &#8212; ESMPy 8.4.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="LocStream" href="locstream.html" />
    <link rel="prev" title="Grid" href="grid.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="locstream.html" title="LocStream"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="grid.html" title="Grid"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ESMPy 8.4.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="appendix.html" accesskey="U">Appendices</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Mesh</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="mesh">
<h1>Mesh<a class="headerlink" href="#mesh" title="Permalink to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="esmpy.api.mesh.Mesh">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">esmpy.api.mesh.</span></span><span class="sig-name descname"><span class="pre">Mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parametric_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spatial_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coord_sys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filetype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_to_dual</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_user_area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meshname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_flag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#esmpy.api.mesh.Mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> class is a Python wrapper object for the ESMF Mesh.
The individual values of all coordinate and mask arrays are referenced to
those of the underlying Fortran ESMF object.</p>
<p>The ESMF library provides a class for representing unstructured grids called
the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>. <a class="reference internal" href="field.html#esmpy.api.field.Field" title="esmpy.api.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fields</span></code></a> can be created on a <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> to hold data. <a class="reference internal" href="field.html#esmpy.api.field.Field" title="esmpy.api.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fields</span></code></a> created on a
<a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> can also be used as either the source or destination or both of a
regrididng operation which allows data to be moved between unstructured
grids.  A <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> is constructed of nodes and elements. A node, also known as
a vertex or corner, is a part of a <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> which represents a single point.
Coordinate information is set in a node. An element, also known as a cell,
is a part of a mesh which represents a small region of space. Elements are
described in terms of a connected set of nodes which represent locations
along their boundaries. <a class="reference internal" href="field.html#esmpy.api.field.Field" title="esmpy.api.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code></a> data may be located on either the nodes or
elements of a <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.</p>
<p>Refer to the Mesh Class of the 
<a class="reference external" href="http://earthsystemmodeling.org/docs/release/latest/ESMF_refdoc/">ESMF Reference Manual</a>
for more information.</p>
<p>An unstructured <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> can be created in two different ways, as a <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> in
memory, or from a SCRIP formatted or CF compliant UGRID file. The arguments
for each type of <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> creation are outlined below.</p>
<p><strong>Created in-memory:</strong></p>
<dl class="simple">
<dt>The in-memory <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> can be created manually in 3 steps:</dt><dd><ol class="arabic simple">
<li><p>create the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> (specifying <code class="docutils literal notranslate"><span class="pre">parametric_dim</span></code> and <code class="docutils literal notranslate"><span class="pre">spatial_dim</span></code>),</p></li>
<li><p>add nodes,</p></li>
<li><p>add elements.</p></li>
</ol>
</dd>
</dl>
<p><em>REQUIRED:</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parametric_dim</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the dimension of the topology of the
<a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> (e.g. a <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> composed of squares would have a
parametric dimension of 2 and a <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> composed of cubes
would have a parametric dimension of 3).</p></li>
<li><p><strong>spatial_dim</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the number of coordinate dimensions
needed to describe the locations of the nodes making up the
<a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.  For a manifold the spatial dimension can be larger
than the parametric dimension (e.g. the 2D surface of a
sphere in 3D space), but it cannot be smaller.</p></li>
</ul>
</dd>
</dl>
<p><em>OPTIONAL:</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>coord_sys</strong> (<a class="reference internal" href="CoordSys.html#esmpy.api.constants.CoordSys" title="esmpy.api.constants.CoordSys"><em>CoordSys</em></a>) – Coordinate system for the
<a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, defaults to <a class="reference internal" href="CoordSys.html#esmpy.api.constants.CoordSys.SPH_DEG" title="esmpy.api.constants.CoordSys.SPH_DEG"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SPH_DEG</span></code></a>.</p>
</dd>
</dl>
<p><strong>Created from file:</strong></p>
<p>Note that <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Meshes</span></code></a> created from file do not use the <code class="docutils literal notranslate"><span class="pre">parametric_dim</span></code> and
<code class="docutils literal notranslate"><span class="pre">spatial_dim</span></code> parameters.</p>
<p><em>REQUIRED:</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the name of NetCDF file containing the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.</p></li>
<li><p><strong>filetype</strong> (<a class="reference internal" href="FileFormat.html#esmpy.api.constants.FileFormat" title="esmpy.api.constants.FileFormat"><em>FileFormat</em></a>) – the input
<a class="reference internal" href="FileFormat.html#esmpy.api.constants.FileFormat" title="esmpy.api.constants.FileFormat"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FileFormat</span></code></a> of the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<p><em>OPTIONAL:</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>convert_to_dual</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – a boolean value to specify if the
dual <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> should be calculated.  Defaults to False.  This
argument is only supported with
<a class="reference internal" href="FileFormat.html#esmpy.api.constants.FileFormat.SCRIP" title="esmpy.api.constants.FileFormat.SCRIP"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SCRIP</span></code></a>.</p></li>
<li><p><strong>add_user_area</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – a boolean value to specify if an area
property should be added to the mesh.  This argument is only
supported for <a class="reference internal" href="FileFormat.html#esmpy.api.constants.FileFormat.SCRIP" title="esmpy.api.constants.FileFormat.SCRIP"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SCRIP</span></code></a>
or <a class="reference internal" href="FileFormat.html#esmpy.api.constants.FileFormat.ESMFMESH" title="esmpy.api.constants.FileFormat.ESMFMESH"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ESMFMESH</span></code></a>.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, defaults to False.</p></li>
<li><p><strong>meshname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the name of the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> metadata variable in
a UGRID file.  This argument is only supported with
<a class="reference internal" href="FileFormat.html#esmpy.api.constants.FileFormat.UGRID" title="esmpy.api.constants.FileFormat.UGRID"><code class="xref py py-attr docutils literal notranslate"><span class="pre">UGRID</span></code></a>.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, defaults to the empty string.</p></li>
<li><p><strong>mask_flag</strong> (<a class="reference internal" href="MeshLoc.html#esmpy.api.constants.MeshLoc" title="esmpy.api.constants.MeshLoc"><em>MeshLoc</em></a>) – an enumerated integer that, if
specified, tells whether a mask in a UGRID file should be
defined on the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Mesh</span></code>.
This argument is only supported with
<a class="reference internal" href="FileFormat.html#esmpy.api.constants.FileFormat.UGRID" title="esmpy.api.constants.FileFormat.UGRID"><code class="xref py py-attr docutils literal notranslate"><span class="pre">UGRID</span></code></a>.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, defaults to no masking.</p></li>
<li><p><strong>varname</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – a variable name for the mask in a UGRID file
if mask_flag is specified.  This argument is only supported
for <a class="reference internal" href="FileFormat.html#esmpy.api.constants.FileFormat.UGRID" title="esmpy.api.constants.FileFormat.UGRID"><code class="xref py py-attr docutils literal notranslate"><span class="pre">UGRID</span></code></a>.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, defaults to the empty string.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="esmpy.api.mesh.Mesh.area">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">area</span></span><a class="headerlink" href="#esmpy.api.mesh.Mesh.area" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A two element list of numpy arrays to hold values for the nodes
and elements of the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> area represented as a numpy
array of floats of the same number of entries as <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> elements.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="esmpy.api.mesh.Mesh.coords">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">coords</span></span><a class="headerlink" href="#esmpy.api.mesh.Mesh.coords" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A two element list of numpy arrays to hold values for the nodes
and elements of the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The coordinates represented as a numpy array of floats
with a value for each node and/or element of the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>
<a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="esmpy.api.mesh.Mesh.coord_sys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">coord_sys</span></span><a class="headerlink" href="#esmpy.api.mesh.Mesh.coord_sys" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="CoordSys.html#esmpy.api.constants.CoordSys" title="esmpy.api.constants.CoordSys"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CoordSys</span></code></a></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The coordinate system of the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="esmpy.api.mesh.Mesh.mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mask</span></span><a class="headerlink" href="#esmpy.api.mesh.Mesh.mask" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A two element list of numpy arrays to hold values for the nodes
and elements of the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The masked values on the nodes and elements of the
<a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="esmpy.api.mesh.Mesh.rank">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rank</span></span><a class="headerlink" href="#esmpy.api.mesh.Mesh.rank" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)">int</a></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The rank of the Mesh, (i.e. always 1).</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="esmpy.api.mesh.Mesh.size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#esmpy.api.mesh.Mesh.size" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A two element list of integers.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of nodes and elements in the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> on the current
processor.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="esmpy.api.mesh.Mesh.size_owned">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">size_owned</span></span><a class="headerlink" href="#esmpy.api.mesh.Mesh.size_owned" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A two element list of integers.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of owned nodes and elements in the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> on the
current processor.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="esmpy.api.mesh.Mesh.add_elements">
<span class="sig-name descname"><span class="pre">add_elements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_conn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element_coords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#esmpy.api.mesh.Mesh.add_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Add elements to a <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>, this must be done after adding nodes.</p>
<p><em>REQUIRED:</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>element_count</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the number of elements to add to the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.</p></li>
<li><p><strong>element_ids</strong> (<em>ndarray</em>) – a numpy array of of shape
<code class="docutils literal notranslate"><span class="pre">(element_count,</span> <span class="pre">1)</span></code> to specify the element ids.</p></li>
<li><p><strong>element_types</strong> (<em>ndarray</em>) – a numpy array of
<code class="xref py py-attr docutils literal notranslate"><span class="pre">MeshElemType`s</span> <span class="pre">of</span> <span class="pre">shape</span>
<span class="pre">``(element_count,</span> <span class="pre">1)`</span></code> to specify the element types.</p></li>
<li><p><strong>element_conn</strong> (<em>ndarray</em>) – a numpy array of shape
<code class="docutils literal notranslate"><span class="pre">sum(element_types[:],</span> <span class="pre">1)</span></code> to specify the connectivity of the
<a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>. The connectivity array is constructed by concatenating the
tuples that correspond to the element_ids. The connectivity tuples
are constructed by listing the node_ids of each element in
<strong>COUNTERCLOCKWISE</strong> order.</p></li>
</ul>
</dd>
</dl>
<p><em>OPTIONAL:</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>element_mask</strong> (<em>ndarray</em>) – a numpy array of shape
<code class="docutils literal notranslate"><span class="pre">(element_count,</span> <span class="pre">1)</span></code> containing integer values to specify masked
elements. The specific values that are masked are specified in the
<a class="reference internal" href="regrid.html#esmpy.api.regrid.Regrid" title="esmpy.api.regrid.Regrid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Regrid</span></code></a> constructor.</p></li>
<li><p><strong>element_area</strong> (<em>ndarray</em>) – a numpy array of shape
<code class="docutils literal notranslate"><span class="pre">(element_count,</span> <span class="pre">1)</span></code> to specify the areas of the elements.</p></li>
<li><p><strong>element_coords</strong> (<em>ndarray</em>) – a numpy array of shape
<code class="docutils literal notranslate"><span class="pre">(element_count,</span> <span class="pre">1)</span></code> to specify the coordinates of the elements.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="esmpy.api.mesh.Mesh.add_nodes">
<span class="sig-name descname"><span class="pre">add_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_owners</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#esmpy.api.mesh.Mesh.add_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Add nodes to a <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>, this must be done before adding elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_count</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the number of nodes to add to the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.</p></li>
<li><p><strong>node_ids</strong> (<em>ndarray</em>) – a numpy array of shape (node_count, 1) to
specify the node_ids.</p></li>
<li><p><strong>node_coords</strong> (<em>ndarray</em>) – a numpy array of shape
(spatial_dim*node_count, 1) to specify the coordinates of the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.
The array should be constructed by concatenating the coordinate
tuples into a numpy array that correspond to node_ids.</p></li>
<li><p><strong>node_owners</strong> (<em>ndarray</em>) – a numpy array of shape (node_count, 1) to
specify the rank of the processor that owns each node.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="esmpy.api.mesh.Mesh.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#esmpy.api.mesh.Mesh.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy a <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> in an ESMF-safe manner.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> shallow copy.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="esmpy.api.mesh.Mesh.destroy">
<span class="sig-name descname"><span class="pre">destroy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#esmpy.api.mesh.Mesh.destroy" title="Permalink to this definition">¶</a></dt>
<dd><p>Release the memory associated with a <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="esmpy.api.mesh.Mesh.free_memory">
<span class="sig-name descname"><span class="pre">free_memory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#esmpy.api.mesh.Mesh.free_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Free memory associated with the creation of a
<a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> which is no longer needed for ongoing
operations.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="esmpy.api.mesh.Mesh.get_coords">
<span class="sig-name descname"><span class="pre">get_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coord_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meshloc=&lt;MeshLoc.NODE:</span> <span class="pre">0&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#esmpy.api.mesh.Mesh.get_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a numpy array of coordinates at a specified <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a> 
location (coordinates can only be returned for the <a class="reference internal" href="#esmpy.api.mesh.Mesh" title="esmpy.api.mesh.Mesh"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mesh</span></code></a>
<a class="reference internal" href="MeshLoc.html#esmpy.api.constants.MeshLoc.NODE" title="esmpy.api.constants.MeshLoc.NODE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">NODE</span></code></a>
at this time). The returned array is NOT a copy, it is
directly aliased to the underlying memory allocated by esmpy.</p>
<p><em>REQUIRED:</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>coord_dim</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the dimension number of the coordinates to return:
e.g. <code class="docutils literal notranslate"><span class="pre">[x,</span> <span class="pre">y,</span> <span class="pre">z]</span> <span class="pre">=</span> <span class="pre">(0,</span> <span class="pre">1,</span> <span class="pre">2)</span></code>, or <code class="docutils literal notranslate"><span class="pre">[lat,</span> <span class="pre">lon]</span> <span class="pre">=</span> <span class="pre">(0,</span> <span class="pre">1)</span></code></p>
</dd>
</dl>
<p><em>OPTIONAL:</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>meshloc</strong> (<a class="reference internal" href="MeshLoc.html#esmpy.api.constants.MeshLoc" title="esmpy.api.constants.MeshLoc"><em>MeshLoc</em></a>) – the <a class="reference internal" href="MeshLoc.html#esmpy.api.constants.MeshLoc" title="esmpy.api.constants.MeshLoc"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MeshLoc</span></code></a> of the
coordinates.  If <code class="docutils literal notranslate"><span class="pre">None</span></code>, defaults to
<a class="reference internal" href="MeshLoc.html#esmpy.api.constants.MeshLoc.NODE" title="esmpy.api.constants.MeshLoc.NODE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">NODE</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A numpy array of coordinate values at the specified
<a class="reference internal" href="MeshLoc.html#esmpy.api.constants.MeshLoc" title="esmpy.api.constants.MeshLoc"><code class="xref py py-attr docutils literal notranslate"><span class="pre">MeshLoc</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Mesh</a><ul>
<li><a class="reference internal" href="#esmpy.api.mesh.Mesh"><code class="docutils literal notranslate"><span class="pre">Mesh</span></code></a><ul>
<li><a class="reference internal" href="#esmpy.api.mesh.Mesh.area"><code class="docutils literal notranslate"><span class="pre">Mesh.area</span></code></a></li>
<li><a class="reference internal" href="#esmpy.api.mesh.Mesh.coords"><code class="docutils literal notranslate"><span class="pre">Mesh.coords</span></code></a></li>
<li><a class="reference internal" href="#esmpy.api.mesh.Mesh.coord_sys"><code class="docutils literal notranslate"><span class="pre">Mesh.coord_sys</span></code></a></li>
<li><a class="reference internal" href="#esmpy.api.mesh.Mesh.mask"><code class="docutils literal notranslate"><span class="pre">Mesh.mask</span></code></a></li>
<li><a class="reference internal" href="#esmpy.api.mesh.Mesh.rank"><code class="docutils literal notranslate"><span class="pre">Mesh.rank</span></code></a></li>
<li><a class="reference internal" href="#esmpy.api.mesh.Mesh.size"><code class="docutils literal notranslate"><span class="pre">Mesh.size</span></code></a></li>
<li><a class="reference internal" href="#esmpy.api.mesh.Mesh.size_owned"><code class="docutils literal notranslate"><span class="pre">Mesh.size_owned</span></code></a></li>
<li><a class="reference internal" href="#esmpy.api.mesh.Mesh.add_elements"><code class="docutils literal notranslate"><span class="pre">Mesh.add_elements()</span></code></a></li>
<li><a class="reference internal" href="#esmpy.api.mesh.Mesh.add_nodes"><code class="docutils literal notranslate"><span class="pre">Mesh.add_nodes()</span></code></a></li>
<li><a class="reference internal" href="#esmpy.api.mesh.Mesh.copy"><code class="docutils literal notranslate"><span class="pre">Mesh.copy()</span></code></a></li>
<li><a class="reference internal" href="#esmpy.api.mesh.Mesh.destroy"><code class="docutils literal notranslate"><span class="pre">Mesh.destroy()</span></code></a></li>
<li><a class="reference internal" href="#esmpy.api.mesh.Mesh.free_memory"><code class="docutils literal notranslate"><span class="pre">Mesh.free_memory()</span></code></a></li>
<li><a class="reference internal" href="#esmpy.api.mesh.Mesh.get_coords"><code class="docutils literal notranslate"><span class="pre">Mesh.get_coords()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="grid.html"
                          title="previous chapter">Grid</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="locstream.html"
                          title="next chapter">LocStream</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/mesh.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="locstream.html" title="LocStream"
             >next</a> |</li>
        <li class="right" >
          <a href="grid.html" title="Grid"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ESMPy 8.4.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="appendix.html" >Appendices</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Mesh</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2011-2023, University Corporation for Atmospheric Research, Massachusetts Institute of Technology, Geophysical Fluid Dynamics Laboratory, University of Michigan, National Centers for Environmental Prediction, Los Alamos National Laboratory, Argonne National Laboratory, NASA Goddard Space Flight Center.  Licensed under the University of Illinois-NCSA License.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.1.3.
    </div>
  </body>
</html>